!function(n){"use strict";window.jkitdashboard=window.jkitdashboard||{},window.jkitdashboard={init:function(e){var t=this;t.xhr=null,t.container=void 0===e?n("body"):e,Notiflix.Notify.Init({position:"right-top",zindex:999999,showOnlyTheLastOne:!0,success:{notiflixIconColor:"#fff"}}),t.button_save=t.container.find(".jkit-dashboard-body-wrap .jkit-form-submit>button"),t.form_handler(),t.elements()},form_handler:function(){var e=this,t=e.container.find("#jkit-user-data-form, #jkit-settings-form, #jkit-notfound-form");t.find(".jkit-form-content").on("click",(function(e){e.preventDefault();var t=n(this).parents(".jkit-form-tab ");t.hasClass("collapse")?t.removeClass("collapse"):t.addClass("collapse")})),t.on("submit",(function(t){t.preventDefault();var a=n(this).attr("id"),i={},o="",s="",r="",f=/\[([^\]]+)\]/;"jkit-user-data-form"===a?o="save_user_data":"jkit-settings-form"===a?o="save_settings":"jkit-notfound-form"===a&&(o="save_notfound"),n(this).find("input, select").each((function(e){s=f.exec(n(this).attr("name")),r=n(this).val(),i[s[1]]=r})),e.button_save.addClass("saving"),e.button_save.find("i").removeClass("fa-save").addClass("fa-spinner fa-spin"),n.ajax({type:"POST",url:jkit_ajax_url,data:{form_data:i,action:o,nonce:jkit_nonce},dataType:"json",encode:!0}).done((function(n){Notiflix.Notify.Success(n.message),e.button_save.removeClass("saving"),e.button_save.find("i").removeClass("fa-spinner fa-spin").addClass("fa-save")})).fail((function(){Notiflix.Notify.Failure(jkit_dashboard_localize.save_failed),e.button_save.removeClass("saving")}))}))},elements:function(){var e=this,t=e.container.find(".element-checkbox-option .switch"),a=e.container.find(".jkit-button.enable-all"),i=e.container.find(".jkit-button.disable-all"),o=e.container.find("#jkit-elements-enable-form");t.on("click",(function(e){e.preventDefault();var t=n(this).prev("input");t.is(":checked")?t.prop("checked",!1):t.prop("checked",!0)})),a.on("click",(function(n){n.preventDefault(),t.prev("input").prop("checked",!0)})),i.on("click",(function(n){n.preventDefault(),t.prev("input").prop("checked",!1)})),o.on("submit",(function(a){a.preventDefault();var i={};e.button_save.addClass("saving"),e.button_save.find("i").removeClass("fa-save").addClass("fa-spinner fa-spin"),t.each((function(e,t){var a=n(t).prev("input"),o=a.data("element-key");i[o]=a.is(":checked")})),n.ajax({type:"POST",url:jkit_ajax_url,data:{form_data:i,action:"save_elements_enable",nonce:jkit_nonce},dataType:"json",encode:!0}).done((function(n){Notiflix.Notify.Success(n.message),e.button_save.removeClass("saving"),e.button_save.find("i").removeClass("fa-spinner fa-spin").addClass("fa-save")})).fail((function(){Notiflix.Notify.Failure(jkit_dashboard_localize.save_failed),e.button_save.removeClass("saving")}))}))}},n(document).on("ready",(function(){window.jkitdashboard.init()}))}(jQuery);